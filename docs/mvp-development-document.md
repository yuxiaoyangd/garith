# 项目概述

这是一个面向科技 / 互联网 / IoT 领域个人创业者与小微团队的需求协作平台 MVP，用于发布真实需求、公开项目进度并促成合作意向，核心目标是验证“真实需求 + 真实进度是否能推动合作发生”，而非构建完整社区。

# 核心原则

* 先跑通主链路，再谈体验优化
* 后端优先，UI 服务于结构而非审美
* 数据真实、规则明确、功能克制

# 技术选型

* 后端：Node.js LTS + Fastify
* 数据库：SQLite（better-sqlite3）
* 认证方式：邮箱 + 验证码 + JWT
* 前端：Flutter（最简组件实现）
* 部署方式：单实例服务 + 单 SQLite 数据文件

# 功能范围（MVP）

仅实现以下功能，其他一律不做：

* 浏览项目列表（无需登录）
* 查看项目详情与进度（无需登录）
* 登录（邮箱验证码）
* 发布项目
* 更新项目进度
* 提交合作意向
* 查看“我发布的 / 我参与的”

# 核心数据模型

## User（用户）

* id
* email
* nickname
* skills（JSON 数组）
* created_at

## Project（需求 / 项目）

* id
* title
* type（需求 / 合伙 / 外包）
* field（Web / IoT / AI 等）
* stage（想法 / 原型 / 开发中 / 已上线）
* blocker（当前卡点）
* help_type（希望获得的帮助）
* is_public_progress（是否公开进度）
* status（active / paused / closed）
* owner_id
* created_at
* updated_at

## Progress（项目进度）

* id
* project_id
* content
* summary（阶段性结论或变化）
* created_at

规则：进度只能追加，不能修改或删除

## Intent（合作意向）

* id
* project_id
* user_id
* offer
* expect
* contact
* status（submitted / viewed / closed）
* created_at

# 主业务流程

未登录用户：

* 浏览项目列表
* 查看项目详情与进度

登录用户：

* 发布项目
* 更新自己项目的进度
* 向他人项目提交合作意向
* 查看自己的项目和意向

# 接口清单（最小集合）

* POST /auth/login（邮箱验证码登录）
* GET /projects（列表 + 筛选）
* GET /projects/:id（详情）
* POST /projects（创建项目）
* POST /projects/:id/progress（新增进度）
* POST /projects/:id/intents（提交合作意向）
* GET /me/projects（我发布的）
* GET /me/intents（我提交的）

# 后端项目结构建议

src/

* app.js
* routes/

  * auth.js
  * projects.js
  * progress.js
  * intents.js
* db/

  * index.js
  * schema.sql
* middleware/

  * auth.js

# SQLite 使用规范

* 启用 WAL 模式
* 所有写操作使用事务
* MVP 阶段不做复杂迁移

# UI 实现约束（Flutter）

* 首页即项目列表页
* 不做信息流、不做社交关系
* 项目详情页信息自上而下结构化
* 发布页使用分步表单（3 步以内）
* 强调“发布 / 参与”操作，其余弱化

# 成功判断标准

* 是否有人持续更新项目进度
* 是否有人主动提交合作意向
* 是否至少推动 1 个真实项目产生进展

# 明确不做事项

* 即时聊天
* 点赞、关注、评论
* 资金、交易、众筹
* 推荐算法、排行榜
* 多角色权限系统

# MVP 阶段目标

用最少的技术和功能，验证一个问题：
“真实的创业需求和进度是否值得被聚合，并能促成合作。”

只要这个问题有正反馈，产品才值得继续演进。

# 关键规则与边界（MVP 固定，不随意调整）

## 项目状态规则

* 项目创建后默认状态为 active（进行中）
* 只有项目创建者（owner）可以修改项目状态
* 项目状态说明：

  * active：正常展示、可更新进度、可接收合作意向
  * paused：暂停展示在列表中，但历史数据仍可查看，不允许新增进度与意向
  * closed：项目结束，仅可查看，不允许任何新增操作

## 项目进度规则

* 只有项目创建者可以新增项目进度
* 项目进度只允许新增，不允许修改或删除历史记录
* 项目处于 paused 或 closed 状态时，禁止新增进度
* 超过 30 天未更新进度的项目，在列表中自动下沉排序

## 合作意向规则

* 只有登录用户可以提交合作意向
* 每个用户对同一项目只能提交一次合作意向
* 合作意向仅项目创建者可见
* 项目处于 paused 或 closed 状态时，禁止提交合作意向
* 平台不保证合作结果，仅负责意向传递

## 用户与权限边界

* 用户只分为“登录用户 / 未登录用户”，不做角色区分
* 未登录用户仅可浏览项目与进度
* 登录用户才可发布项目、更新进度、提交合作意向
* 用户只能编辑和管理自己创建的项目

## 认证与安全底线

* 登录方式仅支持邮箱验证码，不提供密码体系
* 验证码规则：

  * 6 位数字
  * 有效期 5 分钟
  * 同一邮箱 60 秒内只能发送一次
* JWT 用于登录态维护：

  * 默认有效期 7 天
  * 过期需重新登录
* MVP 阶段不处理设备绑定、异地登录提醒等复杂场景

## MVP 开发终止条件（非常重要）

当以下条件全部满足时，必须停止新增功能，进入观察期：

* 核心接口全部跑通且稳定
* 至少有 1 个项目完成 3 次以上进度更新
* 至少产生 1 次真实合作意向提交

在未满足以上条件前：

* 不新增字段
* 不扩展接口能力
* 不引入新模块
* 不优化 UI 细节

任何新的需求或想法，统一记录，不进入当前版本实现。
